(this.webpackJsonprestaurant=this.webpackJsonprestaurant||[]).push([[0],{191:function(e,t,a){e.exports=a(390)},196:function(e,t,a){},197:function(e,t,a){},382:function(e,t){},390:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),c=a.n(o),l=(a(196),a(197),a(52)),i=a(37);var s=function(){return r.a.createElement("div",null,r.a.createElement(i.a,{to:"/login"},"\u767b\u5f55"),r.a.createElement(i.a,{to:"/register"},"\u6ce8\u518c"))},u=a(53),d=a.n(u),m=a(75),p=a(24),f=a(25),h=a(27),E=a(26),b=a(28),v=a(175),g=a.n(v).a.create({baseURL:"/api",withCredentials:!0}),y=a(393),k=a(396),O=a(10),j=a(51);var w=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(m.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return e.next=3,g.post("/login",{values:n}).then((function(e){console.log("res",e.data),-1===e.data.code?(console.log("code",e.code),alert("\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef")):a.props.history.push("/restaurant/".concat(e.data.id,"/manage/"))}));case 3:e.next=6;break;case 5:alert("ss");case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.form.validateFields()}},{key:"render",value:function(){var e,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldsError,o=t.getFieldError,c=t.isFieldTouched,l=c("username")&&o("username"),i=c("password")&&o("password");return r.a.createElement(y.a,{layout:"inline",onSubmit:this.handleSubmit},r.a.createElement(y.a.Item,{validateStatus:l?"error":"",help:l||""},a("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(k.a,{prefix:r.a.createElement(O.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(y.a.Item,{validateStatus:i?"error":"",help:i||""},a("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(k.a,{prefix:r.a.createElement(O.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(y.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit",disabled:(e=n(),Object.keys(e).some((function(t){return e[t]})))},"Log in")))}}]),t}(r.a.Component),C=y.a.create({name:"horizontal_login"})(w),x=function(e){var t={};return{clearCache:function(){t={}},read:function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];var o=n.join("|");if(o in t)return t[o];throw e.apply(void 0,n).then((function(e){t[o]=e}))}}},S=a(134),P=a(29),F=a(392),D=a(397),I=a(395),R=y.a.create({name:"form_in_modal"})(function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,o=e.form.getFieldDecorator;return r.a.createElement(I.a,{visible:t,title:"\u8bf7\u6dfb\u52a0\u83dc\u54c1",okText:"Create",onCancel:a,onOk:n},r.a.createElement(y.a,{layout:"vertical"},r.a.createElement(y.a.Item,{label:"\u83dc\u54c1\u540d\u79f0"},o("name",{rules:[{required:!0,message:"Please input the title of collection!"}]})(r.a.createElement(k.a,null))),r.a.createElement(y.a.Item,{label:"\u83dc\u54c1\u63cf\u8ff0"},o("dec")(r.a.createElement(k.a,{type:"textarea"}))),r.a.createElement(y.a.Item,{label:"\u83dc\u54c1\u4ef7\u683c"},o("price")(r.a.createElement(k.a,{type:"textarea"}))),r.a.createElement(y.a.Item,{label:"\u83dc\u54c1\u5206\u7c7b"},o("category")(r.a.createElement(k.a,{type:"textarea"}))),r.a.createElement(y.a.Item,{label:"\u83dc\u54c1\u72b6\u6001"},o("status")(r.a.createElement(k.a,{type:"textarea"}))),r.a.createElement(y.a.Item,{label:"\u83dc\u54c1\u56fe\u7247"},o("img")(r.a.createElement(k.a,{type:"file",ref:this.props.passref})))))}}]),t}(r.a.Component)),z=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).imgRef=r.a.createRef(),a.state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.formRef.props.form;e.validateFields((function(t,n){if(!t){console.log("Received values of form: ",n);var r=new FormData;for(var o in n){var c=n[o];r.append(o,c)}r.append("img",a.imgRef.current.input.files[0]),console.log("img",a.imgRef.current.input.files[0]),console.log("fd",r),g.post("/restaurant/1/food",r),e.resetFields(),a.setState({visible:!1})}})),a.props.renderAgain()},a.saveFormRef=function(e){a.formRef=e},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j.a,{type:"primary",onClick:this.showModal},"\u6dfb\u52a0\u83dc\u54c1"),r.a.createElement(R,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,renderAgain:this.props.renderAgain,passref:this.imgRef}))}}]),t}(r.a.Component);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q=F.a.Meta,A=D.a.size;function T(e){var t=Object(n.useState)(e.food),a=Object(P.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(!1),i=Object(P.a)(l,2),s=i[0],u=i[1],d=Object(n.useState)({name:e.food.name,desc:e.food.desc,price:e.food.price,category:e.food.category,img:null,status:"on"}),m=Object(P.a)(d,2),p=m[0],f=m[1];function h(e){f(N({},p,Object(S.a)({},e.target.name,e.target.value)))}return r.a.createElement("div",null,s?r.a.createElement("div",null,r.a.createElement("form",{style:{width:300,margin:20}},"\u83dc\u540d\uff1a",r.a.createElement("input",{style:{width:300},type:"text",defaultValue:o.name,onChange:h,name:"name"}),r.a.createElement("br",null),"\u63cf\u8ff0\uff1a",r.a.createElement("input",{style:{width:300},type:"text",defaultValue:o.desc,onChange:h,name:"desc"}),r.a.createElement("br",null),"\u4ef7\u683c\uff1a",r.a.createElement("input",{style:{width:300},type:"text",defaultValue:o.price,onChange:h,name:"price"}),r.a.createElement("br",null),"\u5206\u7c7b\uff1a",r.a.createElement("input",{style:{width:300},type:"text",defaultValue:o.category,onChange:h,name:"category"}),r.a.createElement("br",null),"\u56fe\u7247\uff1a",r.a.createElement("input",{type:"file",onChange:function(e){f(N({},p,{img:e.target.files[0]}))},name:"img"}),r.a.createElement("br",null),r.a.createElement(j.a,{type:"primary",size:A,onClick:function(t){t.preventDefault();var a=new FormData;for(var n in p){var r=p[n];console.log(n,r),a.append(n,r)}g.put("/restaurant/".concat(e.food.rid,"/food/")+o.id,a).then((function(e){u(!1),c(e.data)}))}},"\u5b8c\u6210\u5e76\u4fdd\u5b58"))):r.a.createElement(F.a,{style:{width:300,margin:20},cover:r.a.createElement("img",{alt:o.name,src:"../upload/"+o.img}),actions:["on"===o.status?r.a.createElement("button",{onClick:function(){g.put("/restaurant/:rid/food/"+o.id,N({},p,{status:"off"})).then((function(e){c(e.data)}))}},r.a.createElement(O.a,{type:"setting",key:"setting"}),"\u4e0b\u67b6"):r.a.createElement("button",{onClick:function(){g.put("/restaurant/:rid/food/"+o.id,N({},p,{status:"on"})).then((function(e){c(e.data)}))}},r.a.createElement(O.a,{type:"setting",key:"setting"}),"\u4e0a\u67b6"),r.a.createElement("button",{onClick:function(){u(!0)}},r.a.createElement(O.a,{type:"edit",key:"edit"}),"\u4fee\u6539"),r.a.createElement("button",{onClick:function(){e.onDelete(o.id)}},r.a.createElement(O.a,{type:"delete",key:"delete"}),"\u5220\u9664")]},r.a.createElement(q,{title:o.name}),r.a.createElement("ul",null,r.a.createElement("li",null,"\u63cf\u8ff0:",o.desc),r.a.createElement("li",null,"\u4ef7\u683c:",o.price),r.a.createElement("li",null,"\u5206\u7c7b:",o.category))))}var U=function(e){var t=Object(n.useState)([]),a=Object(P.a)(t,2),o=a[0],c=a[1],l=e.match.params.rid;function i(e){g.delete("/restaurant/".concat(l,"/food")+e).then((function(){g.get("/restaurant/".concat(l,"/food")).then((function(e){c(e.data)}))}))}return Object(n.useEffect)((function(){g.get("/restaurant/".concat(l,"/food")).then((function(e){c(e.data)}))}),[]),r.a.createElement("div",null,r.a.createElement("div",null,o.map((function(e){return r.a.createElement(T,{food:e,key:e.id,onDelete:i})}))),r.a.createElement(z,{foods:o,renderAgain:function(){g.get("/restaurant/".concat(l,"/food")).then((function(e){c(e.data)}))}}))},L=a(42),V=a(101),_=a.n(V);function W(e){return r.a.createElement("div",{style:{margin:"15px"}},r.a.createElement(F.a,{size:"small",title:e.order.deskName,style:{width:300}},r.a.createElement("p",null,"\u603b\u4ef7\u683c\uff1a",e.order.totalPrice),r.a.createElement("p",null,"\u7528\u9910\u4eba\u6570\uff1a",e.order.customCount)))}var B=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(h.a)(this,Object(E.a)(t).call(this))).state={orders:[]},e}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;this.socket=_()(),this.socket.on("connect",(function(){console.log("params",t.rid),e.socket.emit("join restaurant","restaurant:"+t.rid)})),this.socket.on("new order",(function(t){e.setState((function(e){return{orders:[t].concat(Object(L.a)(e.orders))}}))})),g.get("/restaurant/".concat(t.rid,"/order")).then((function(t){e.setState({orders:t.data})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"\u8ba2\u5355\u7ba1\u7406"),r.a.createElement("div",null,this.state.orders.length>0?this.state.orders.map((function(e){return r.a.createElement(W,{order:e,key:e.id})})):r.a.createElement("div",null,"loading...")))}}]),t}(n.Component);function J(e){var t=e.desk.id;return r.a.createElement("div",null,r.a.createElement(F.a,{style:{width:300}},r.a.createElement("p",null,"\u684c\u540d\uff1a",e.desk.name),r.a.createElement("p",null,"\u5bb9\u7eb3\u4eba\u6570\uff1a",e.desk.capacity),r.a.createElement(j.a,{size:"small",onClick:function(){return e.deleteDesk(t)}},"\u5220\u9664")))}var G=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){e.persist(),a.setState({visible:!1});var t={name:a.state.deskName,capacity:a.state.capacity};g.post("/restaurant/1/desk/",t).then((function(){window.location.reload()}))},a.handleCancel=function(e){a.setState({visible:!1})},a.state={visible:!1,deskName:"",capacity:""},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(j.a,{type:"primary",onClick:this.showModal},"\u589e\u52a0\u684c\u5b50"),r.a.createElement(I.a,{title:"\u589e\u52a0\u684c\u5b50",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},"\u684c\u5b50\u540d\u79f0\uff1a",r.a.createElement("input",{type:"text",value:this.state.deskName,onChange:function(t){e.setState({deskName:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("br",null),"\u5bb9\u7eb3\u4eba\u6570\uff1a",r.a.createElement("input",{type:"text",value:this.state.capacity,onChange:function(t){e.setState({capacity:t.target.value})}})))}}]),t}(r.a.Component);var $=Object(l.f)((function(e){var t=Object(n.useState)({}),a=Object(P.a)(t,2),o=(a[0],a[1]),c=Object(n.useState)(),l=Object(P.a)(c,2),i=(l[0],l[1]),s=Object(n.useState)(),u=Object(P.a)(s,2),d=(u[0],u[1]),m=e.match.params.rid,p=x((function(e){return g.get("/restaurant/".concat(e,"/desk"))}));function f(e){g.delete("/restaurant/".concat(m,"/desk/").concat(e)).then((function(){g.get("/restaurant/".concat(m,"/desk/")).then((function(e){o(e.data)}))}))}return r.a.createElement("div",null,r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"loading...")},r.a.createElement((function(e){var t=e.rid,a=p.read(t).data;return console.log("desks",a),r.a.createElement("div",null,a.map((function(e){return r.a.createElement(J,{key:e.id,deleteDesk:f,desk:e})})))}),{rid:m})),r.a.createElement(G,{changeNum:function(e){d(e.target.value)},changeName:function(e){i(e.target.value)}}),r.a.createElement("div",null))})),H=a(22),K=Object(H.b)(),Q={height:"30px",color:"rgb(126,183,247)",fontSize:"16px"},X=x(Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/userinfo").catch((function(){K.push("/login")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));function Y(){var e=X.read().data;return console.log("info",e),r.a.createElement("div",{style:Q},"\u6b22\u8fce ",r.a.createElement("span",{style:{fontFamily:"'Comic Sans MS', cursive, sans-serif",color:"rgb(235,240,22)"}},e.title," "),"\u9910\u5385\u7ba1\u7406\u8005\u767b\u9646")}var Z=Object(l.f)((function(e){function t(){return(t=Object(m.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.get("/logout");case 2:X.clearCache(),e.history.push("/");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"loading...")},r.a.createElement(Y,null)),r.a.createElement("nav",null,r.a.createElement("ul",{style:{listStyle:"none"}},r.a.createElement("li",null,r.a.createElement(i.a,{to:"order"},"\u8ba2\u5355\u7ba1\u7406")),r.a.createElement("li",null,r.a.createElement(i.a,{to:"food"},"\u83dc\u54c1\u7ba1\u7406")),r.a.createElement("li",null,r.a.createElement(i.a,{to:"desk"},"\u684c\u9762\u7ba1\u7406")),r.a.createElement(j.a,{type:"primary",onClick:function(){return t.apply(this,arguments)},size:"small",style:{marginTop:"20px"}},"\u9000\u51fa"))),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/restaurant/:rid/manage/order",component:B}),r.a.createElement(l.a,{path:"/restaurant/:rid/manage/food/",component:U}),r.a.createElement(l.a,{path:"/restaurant/:rid/manage/desk"},r.a.createElement($,null))))})),ee=a(394),te=ee.a.Option,ae={margin:80};var ne=Object(l.f)((function(e){var t=Object(n.useState)(0),a=Object(P.a)(t,2),o=a[0],c=a[1],l=x((function(e){return g.get("/deskinfo?did="+e)})),i=e.match.params.rid,s=e.match.params.did;return console.log(i,s),r.a.createElement("div",null,r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"loading")},r.a.createElement((function(e){var t=e.did,a=l.read(t).data;return console.log("info",a),r.a.createElement("div",null,r.a.createElement("h3",null,a.title),r.a.createElement("h3",null,a.name))}),{did:s})),r.a.createElement(ee.a,{showSearch:!0,style:{width:200},placeholder:"Select person count",optionFilterProp:"children",onChange:function(e){c(e)},filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},r.a.createElement(te,{value:"1"},"1"),r.a.createElement(te,{value:"2"},"2"),r.a.createElement(te,{value:"4"},"4")),r.a.createElement("br",null),r.a.createElement(j.a,{type:"primary",style:ae,onClick:function(){e.history.push("/r/".concat(i,"/d/").concat(s,"/c/").concat(o,"/"))}},"\u5f00\u59cb\u70b9\u9910"))})),re=j.a.Group,oe={float:"left",width:"100px",height:"100px",borderRadius:"10px"},ce={width:"200px",border:"1px solid",borderRadius:"8px",position:"fixed",bottom:"35px",left:"1px",right:"1px",backgroundColor:"white"},le={position:"fixed",height:"50px",bottom:"1px",border:"1px solid",borderRadius:"10px",left:"1px",right:"1px",backgroundColor:"white"};function ie(e){var t=e.food,a=e.onUpdate,n=e.amount;return r.a.createElement("div",null,r.a.createElement("h3",null,t.name),r.a.createElement("img",{style:oe,src:"../upload/"+t.img,alt:t.name}),r.a.createElement("p",null,"\u83dc\u54c1\u63cf\u8ff0",t.dec),r.a.createElement("p",null,"\u83dc\u54c1\u4ef7\u683c",t.price),r.a.createElement("div",null,r.a.createElement(re,null,r.a.createElement(j.a,{onClick:function(){a(t,n-1)}},"-"),r.a.createElement(j.a,null,n),r.a.createElement(j.a,{onClick:function(){a(t,n+1)}},"+"))))}function se(e){return e.reduce((function(e,t){return e+t.food.price*t.amount}),0)}function ue(e){var t=e.foods;return r.a.createElement("ul",{style:ce},t.map((function(e){return r.a.createElement("li",{key:e.food.id},"\u83dc\u54c1\u540d\u79f0\uff1a",e.food.name," ",r.a.createElement("br",null),"\u83dc\u54c1\u4ef7\u683c\uff1a",e.food.price)})))}function de(e){var t=Object(n.useState)(!0),a=Object(P.a)(t,2),o=a[0],c=a[1],l=se(e.foods);return r.a.createElement("div",null,!0===o?r.a.createElement(ue,{foods:e.foods}):"",r.a.createElement("div",{style:le},r.a.createElement(O.a,{type:"shopping-cart",style:{fontSize:"30px",margin:"5px"}}),o?r.a.createElement(j.a,{type:"primary",style:{margin:"5px"},size:"small",onClick:function(){c(!1)}},"\u67e5\u770b\u8be6\u60c5"):r.a.createElement(j.a,{type:"primary",style:{margin:"5px"},size:"small",onClick:function(){c(!0)}},"\u6536\u8d77"),r.a.createElement(j.a,{type:"primary",style:{margin:"15px"},size:"small",onClick:function(){e.OnplaceOrder()}},"\u4e0b\u5355"),r.a.createElement("strong",{style:{margin:"10px"}},"\u603b\u4ef7\uff1a",l)))}var me=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).cartChange=function(e,t){var n=a.props.match.params;a.socket.emit("new food",{desk:"desk:"+n.did,food:e,amount:t})},a.placeOrder=function(){var e=a.props.match.params;g.post("/restaurant/".concat(e.rid,"/desk/").concat(e.did,"/order"),{foods:a.state.cart,deskName:a.state.deskInfo.name,totalPrice:se(a.state.cart),count:e.count}).then((function(t){K.push({pathname:"/r/".concat(e.rid,"/d/").concat(e.did,"/order-success"),state:t.data})}))},a.changeCount=function(e,t){var n=a.state.cart.findIndex((function(t){return t.food.id===e.id}));n>=0?0===t?a.setState({cart:[].concat(Object(L.a)(a.state.cart.slice(0,n)),Object(L.a)(a.state.cart.slice(n+1)))}):a.setState({cart:[].concat(Object(L.a)(a.state.cart.slice(0,n)),[{food:e,amount:t}],Object(L.a)(a.state.cart.slice(n+1)))}):a.setState({cart:[].concat(Object(L.a)(a.state.cart),[{food:e,amount:t}])})},a.state={cart:[],foodMenu:[],deskInfo:{},loading:!1},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;g.get("/deskinfo?did="+t.did).then((function(t){e.setState({deskInfo:t.data})})),g.get("/menu/restaurant/"+t.rid).then((function(t){e.setState({foodMenu:t.data})})),this.socket=_()(),this.socket.on("connect",(function(){e.socket.emit("join desk","desk:"+t.did)})),this.socket.on("cart food",(function(t){e.setState({cart:[].concat(Object(L.a)(e.state.cart),Object(L.a)(t))})})),this.socket.on("new food",(function(t){e.changeCount(t.food,t.amount)})),this.socket.on("order success",(function(e){K.push({pathname:"/r/".concat(t.rid,"/d/").concat(t.did,"/order-success"),state:e})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,"\u5f00\u59cb\u70b9\u9910"),r.a.createElement("div",null,this.state.foodMenu.map((function(t){var a=0,n=e.state.cart.find((function(e){return e.food.id===t.id}));return n&&(a=n.amount),r.a.createElement(ie,{key:t.id,food:t,onUpdate:e.cartChange,amount:a})}))),r.a.createElement(de,{foods:this.state.cart,onUpdate:this.cartChange,OnplaceOrder:this.placeOrder})))}}]),t}(n.Component);var pe=function(e){return console.log(e),r.a.createElement("div",null,r.a.createElement("div",{style:{background:"#ECECEC",padding:"30px"}},r.a.createElement(F.a,{title:"\u4e0b\u5355\u6210\u529f",bordered:!1,style:{width:300}},r.a.createElement("h2",null,"\u603b\u4ef7\uff1a",e.location.state&&e.location.state.totalPrice))))};var fe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||(console.log("Received values of form: ",t),g.post("/register",t).then((function(e){console.log("res",e.data),0===e.data.code?a.props.history.push("/login"):alert("\u7528\u6237\u540d\u5df2\u5b58\u5728")})))}))},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.form.validateFields()}},{key:"render",value:function(){var e,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldsError,o=t.getFieldError,c=t.isFieldTouched,l=c("username")&&o("username"),i=c("password")&&o("password");return r.a.createElement(y.a,{layout:"inline",onSubmit:this.handleSubmit},r.a.createElement(y.a.Item,{validateStatus:l?"error":"",help:l||""},a("name",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(k.a,{prefix:r.a.createElement(O.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement("br",null),r.a.createElement(y.a.Item,{validateStatus:i?"error":"",help:i||""},a("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(k.a,{prefix:r.a.createElement(O.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement("br",null),r.a.createElement(y.a.Item,{validateStatus:i?"error":"",help:i||""},a("title",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(k.a,{prefix:r.a.createElement(O.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),type:"text",placeholder:"Title"}))),r.a.createElement("br",null),r.a.createElement(y.a.Item,{validateStatus:i?"error":"",help:i||""},a("email",{rules:[{required:!0,message:"Please input your Email!"}]})(r.a.createElement(k.a,{prefix:r.a.createElement(O.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),type:"email",placeholder:"Email"}))),r.a.createElement("br",null),r.a.createElement(y.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit",disabled:(e=n(),Object.keys(e).some((function(t){return e[t]})))},"\u6ce8\u518c")))}}]),t}(r.a.Component),he=y.a.create({name:"horizontal_login"})(fe);var Ee=function(){return r.a.createElement(l.b,{history:K},r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",component:s,exact:!0}),r.a.createElement(l.a,{path:"/landing/r/:rid/d/:did",component:ne}),r.a.createElement(l.a,{path:"/r/:rid/d/:did/c/:count",component:me}),r.a.createElement(l.a,{path:"/r/:rid/d/:did/order-success",component:pe}),r.a.createElement(l.a,{path:"/restaurant/:rid/manage/",component:Z}),r.a.createElement(l.a,{path:"/login",component:C}),r.a.createElement(l.a,{path:"/register",component:he})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[191,1,2]]]);
//# sourceMappingURL=main.3bec9094.chunk.js.map